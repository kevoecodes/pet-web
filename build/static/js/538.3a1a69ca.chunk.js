"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[538],{2661:function(n,e,t){var r=t(1413),i=t(79601),o=t(17592),a=t(17551),s=t(46417),c=(0,o.ZP)((function(n){return(0,s.jsx)(i.Z,(0,r.Z)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},n))}))((function(n){var e=n.theme;return{"& .MuiPaper-root":{borderRadius:3,marginTop:e.spacing(1),minWidth:140,backgroundColor:e.palette.grey[100],color:"light"===e.palette.mode?"rgb(55, 65, 81)":e.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 10px 7px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:e.palette.text.secondary,marginRight:e.spacing(1.5)},"&:active":{backgroundColor:(0,a.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}}}}}));e.Z=c},75697:function(n,e,t){t.d(e,{AB:function(){return c},Rn:function(){return l},ec:function(){return s},gg:function(){return u},oB:function(){return d}});var r=t(61805),i=t(66212),o=t(36594),a=t(46417),s=function(n){return n===r.R2.PENDING?(0,a.jsx)(i.Z,{color:"secondary",label:"Pending"}):n===r.R2.ONPROGRESS?(0,a.jsx)(i.Z,{color:"primary",label:"On Progress"}):n===r.R2.COMPLETE?(0,a.jsx)(i.Z,{color:"success",label:"Complete"}):void 0},c=function(n){return n===r.SU.PENDING?(0,a.jsx)(i.Z,{color:"secondary",label:"Pending"}):n===r.SU.VERIFIED?(0,a.jsx)(i.Z,{color:"warning",label:"Verified"}):n===r.SU.APPROVED?(0,a.jsx)(i.Z,{color:"success",label:"Approved"}):n===r.SU.PAID?(0,a.jsx)(i.Z,{color:"primary",label:"Paid"}):n===r.SU.REJECTED?(0,a.jsx)(i.Z,{color:"error",label:"Rejected"}):void 0},u=function(n){return new Date(n).toLocaleString()},l=function(n){(0,o.nD)().then((function(e){console.log(e),n(e)})).catch((function(n){console.log(n)}))},d=function(n){return n.toLocaleString("en-US",{style:"currency",currency:"USD"})}},19538:function(n,e,t){t.r(e);var r=t(29439),i=t(9019),o=t(69099),a=t(70501),s=t(40621),c=t(47313),u=t(58467),l=t(36594),d=t(41434),h=t(75031),g=t(29814),f=t(46417);e.default=function(){var n=(0,c.useState)(!0),e=(0,r.Z)(n,2),t=e[0],x=e[1],p=(0,c.useState)([]),v=(0,r.Z)(p,2),m=v[0],Z=v[1],j=(0,u.s0)();return(0,c.useEffect)((function(){(0,l.l2)().then((function(n){console.log(n),Z(n.results),x(!1)})).catch((function(n){console.log(n)}))}),[]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(s.Z,{title:(0,f.jsx)(f.Fragment,{children:(0,f.jsxs)(i.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,f.jsx)(i.ZP,{item:!0,children:"All Bill Of Loading Charges"}),(0,f.jsx)(i.ZP,{item:!0,xs:12,md:6,lg:4,sx:{ml:"auto"},children:(0,f.jsx)(o.Z,{variant:"contained",endIcon:(0,f.jsx)(d.Z,{}),onClick:function(){j("add-bl-charge")},children:"Add Bill of loading Charge"})})]})}),children:(0,f.jsx)(a.Z,{children:(0,f.jsx)(g.GQ,{isLoading:t,children:(0,f.jsx)(h.Z,{bl_charges:m,onNoCharges:"No Bill of loading Charges"})})})})})}},75031:function(n,e,t){var r=t(29439),i=t(51629),o=t(66835),a=t(23477),s=t(24076),c=t(67478),u=t(57861),l=t(47131),d=t(51405),h=t(62323),g=t(69099),f=t(75697),x=t(32499),p=t(2661),v=t(10237),m=t(17885),Z=t(47313),j=t(58467),b=t(8105),P=t(46417);e.Z=function(n){var e=n.bl_charges,t=void 0===e?[]:e,S=n.onNoCharges,w=void 0===S?"No Charges":S,C=(0,Z.useState)(null),E=(0,r.Z)(C,2),R=E[0],y=E[1],N=(0,Z.useState)(null),k=(0,r.Z)(N,2),D=k[0],A=k[1],L=(0,Z.useState)(0),I=(0,r.Z)(L,2),O=I[0],_=I[1],U=(0,Z.useState)(10),T=(0,r.Z)(U,2),B=T[0],z=T[1],G=Boolean(R),F=(0,j.s0)(),M=function(){y(null)};return(0,P.jsx)(P.Fragment,{children:t.length>0?(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(i.Z,{children:(0,P.jsxs)(o.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,P.jsx)(a.Z,{children:(0,P.jsxs)(s.Z,{children:[(0,P.jsx)(c.Z,{children:"Created At"}),(0,P.jsx)(c.Z,{children:"Charge Number"}),(0,P.jsx)(c.Z,{children:"Bl Number"}),(0,P.jsx)(c.Z,{children:"Charge"}),(0,P.jsx)(c.Z,{children:"Amount"}),(0,P.jsx)(c.Z,{children:"Status"}),(0,P.jsx)(c.Z,{children:"Actions"})]})}),(0,P.jsx)(u.Z,{children:t.slice(O*B,O*B+B).map((function(n,e){return(0,P.jsxs)(s.Z,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,P.jsx)(c.Z,{children:(0,f.gg)(n.created_at)}),(0,P.jsx)(c.Z,{children:n.charge_number}),(0,P.jsx)(c.Z,{children:n.bill_of_loading.bl_number}),(0,P.jsx)(c.Z,{children:n.charge.name}),(0,P.jsx)(c.Z,{children:n.amount}),(0,P.jsx)(c.Z,{children:(0,f.AB)(n.status)}),(0,P.jsx)(c.Z,{children:(0,P.jsxs)("div",{children:[(0,P.jsx)(l.Z,{"aria-label":"more",id:"long-button","aria-controls":G?"demo-customized-menu":void 0,"aria-expanded":G?"true":void 0,disableElevation:!0,"aria-haspopup":"true",onClick:function(e){return t=e,A(n),void y(t.currentTarget);var t},children:(0,P.jsx)(x.Z,{})}),(0,P.jsxs)(p.Z,{id:"demo-customized-menu",anchorEl:R,open:G,onClose:M,MenuListProps:{"aria-labelledby":"demo-customized-menu"},children:[(0,P.jsxs)(d.Z,{onClick:function(){var n;n=D.id,F("/bl-charges/view/"+n,{replace:!0})},children:[(0,P.jsx)(v.Z,{style:{fontSize:25,color:"green"}}),"View"]}),(0,P.jsxs)(d.Z,{onClick:M,disableRipple:!0,children:[(0,P.jsx)(m.Z,{style:{fontSize:25,color:"red"}}),"Delete"]})]})]})})]},e)}))})]})}),(0,P.jsx)(h.Z,{rowsPerPageOptions:[10,15,20],component:"div",count:t.length,rowsPerPage:B,page:O,onPageChange:function(n,e){_(e)},onRowsPerPageChange:function(n){z(+n.target.value),_(0)}})]}):(0,P.jsx)(b.Z,{image:"https://gw.alipayobjects.com/zos/antfincdn/ZHrcdLPrvN/empty.svg",imageStyle:{height:60},description:(0,P.jsx)("span",{children:w}),children:(0,P.jsx)(g.Z,{onClick:function(){F("/bl-charges/add-bl-charge",{replace:!0})},type:"primary",children:"Create Now"})})})}},29814:function(n,e,t){t.d(e,{Ae:function(){return h},GQ:function(){return d},tv:function(){return l}});var r=t(47313),i=t(84488),o=t(42832),a=t(9019),s=t(40621),c=t(41394),u=t(46417),l=function(n){var e=n.children,t=n.isLoading;(0,r.useEffect)((function(){}),[]);var c=(0,u.jsx)(s.Z,{title:(0,u.jsx)(i.Z,{sx:{width:{xs:120,md:180}}}),secondary:(0,u.jsx)(i.Z,{animation:"wave",variant:"rectangular",width:24,height:24}),children:(0,u.jsxs)(o.Z,{spacing:1,children:[(0,u.jsx)(i.Z,{}),(0,u.jsx)(i.Z,{sx:{height:64},animation:"wave",variant:"rectangular"}),(0,u.jsx)(i.Z,{}),(0,u.jsx)(i.Z,{})]})});return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)(a.ZP,{container:!0,spacing:3,children:(0,u.jsx)(a.ZP,{item:!0,xs:12,children:c})}),!t&&e]})},d=function(n){var e=n.children,t=n.isLoading;return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsx)(a.ZP,{container:!0,spacing:3,p:3,mt:1,children:(0,u.jsx)(a.ZP,{item:!0,xs:12,children:(0,u.jsxs)(o.Z,{spacing:1,children:[(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"}),(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"}),(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"}),(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"}),(0,u.jsx)(i.Z,{sx:{height:30},animation:"wave",variant:"rounded"})]})})}),!t&&e]})},h=function(n){var e=n.children,t=n.isLoading;(0,r.useEffect)((function(){}),[]);var o=(0,u.jsx)(c.Z,{hoverable:!0,style:{width:140},cover:(0,u.jsx)(i.Z,{sx:{width:{xs:140,md:140},height:180}}),children:(0,u.jsx)(i.Z,{})});return(0,u.jsxs)(u.Fragment,{children:[t&&(0,u.jsxs)(a.ZP,{container:!0,mb:3,mt:1,alignItems:"center",justifyContent:"flex-start",children:[(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o}),(0,u.jsx)(a.ZP,{item:!0,xs:2,children:o})]}),!t&&e]})}},36594:function(n,e,t){t.d(e,{AG:function(){return R},Bl:function(){return D},Bm:function(){return y},CT:function(){return b},GV:function(){return Z},Gn:function(){return w},HL:function(){return C},JN:function(){return N},OP:function(){return g},PB:function(){return v},Qb:function(){return l},SP:function(){return S},Um:function(){return x},b6:function(){return k},gi:function(){return f},kl:function(){return j},l2:function(){return P},nD:function(){return p},r2:function(){return m},rW:function(){return h},vy:function(){return d},xr:function(){return E}});var r=t(56573),i=t(41209),o=t(58976);function a(n,e){return new Promise((function(t,o){r.Z.post(i.D.apiURL+n,e).then((function(n){n.headers,t(n.data)})).catch((function(n){n.response&&(401===n.response.status||400===n.response.status||500===n.response.status||n.response&&429===n.response.status||console.log("Error occurred, status: "+n.response.status)),console.log(n),o(n)}))}))}function s(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(a,s){r.Z.get(i.D.apiURL+n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){a(n.data)})).catch((function(n){n.response?n.response&&401===n.response.status&&e&&!t||n.response&&n.response.status:o.s&&o.s.enqueueSnackbar("No network available, Please Connect to a Network!",{variant:"warning"}),s(n)}))}))}function c(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(a,s){r.Z.post(i.D.apiURL+n,e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){a(n.data)})).catch((function(n){n.response&&401===n.response.status&&t&&!o||(n.response&&n.response.status,s(n))}))}))}function u(n,e){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(a,s){r.Z.put(i.D.apiURL+n,e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){a(n.data)})).catch((function(n){n.response&&401===n.response.status&&t&&!o||(n.response&&n.response.status,s(n))}))}))}function l(n,e){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r={};return""!==t&&(r.mfaCode=t),a("api/auth/login",{email:n,password:e},!1)}function d(n,e,t){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i={};return""!==r&&(i.mfaCode=r),c("api/auth/reset-password/"+t,{password:n,confirm_password:e},!1)}function h(){return s("api/v1/users-list/")}function g(n){return c("api/v1/register-user",n)}function f(n){return s("api/v1/user/"+n)}function x(n,e){return u("api/v1/user/"+n,e)}function p(){return s("api/v1/roles")}function v(n){return c("api/v1/bls",n)}function m(){return s("api/v1/bls-list/")}function Z(n){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[e?"include_charges=".concat("true"):"",t?"include_timeline=".concat("true"):""].filter(Boolean).join("&"),i="api/v1/bl/".concat(n).concat(r?"?".concat(r):"");return s(i)}function j(n){return s("api/v1/bl-attachments?bl_id="+n)}function b(){return s("api/v1/charges-list/")}function P(){return s("api/v1/bl-charges-list/")}function S(n){return c("api/v1/bl-charges",n)}function w(n){return s("api/v1/bl-charge/"+n)}function C(n,e){return u("api/v1/bl-charge/"+n,e)}function E(n){return s("api/v1/bl-charge-attachments?bl_charge_id="+n)}function R(n){return c("api/v1/vouchers",n)}function y(){return s("api/v1/vouchers-list/")}function N(n){return s("api/v1/voucher/"+n)}function k(n,e){return u("api/v1/voucher/"+n,e)}function D(n){return s("api/v1/voucher-attachments?voucher_id="+n)}},41209:function(n,e,t){t.d(e,{D:function(){return r}});var r={socketURL:"ws://127.0.0.1:5500/",mediaURL:"http://161.35.210.153:5000/media/v1/",apiURL:"http://161.35.210.153/"}},61805:function(n,e,t){t.d(e,{R2:function(){return i},SU:function(){return r},sy:function(){return o}});var r={PENDING:0,VERIFIED:1,APPROVED:2,PAID:3,REJECTED:4},i={PENDING:0,ONPROGRESS:1,COMPLETE:2},o={DETAILS:"0",ATTACHMENTS:"1",BL_CHARGES:"2"}}}]);
"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[658],{35509:function(e,n,t){var r=t(1413),i=t(93433),o=t(66736),a=t(55116),s=t(89939),u=t(41209),c=t(46417),l=a.Z.Dragger;n.Z=function(e){var n=e.setFileNames,t={name:"file",multiple:!0,action:u.D.apiURL+"api/v1/upload-file",onChange:function(e){console.log(e);var t=e.file,r=t.status,o=t.response;"uploading"!==r&&console.log(e.file,e.fileList),"done"===r?(n((function(e){return[].concat((0,i.Z)(e),[{file_name:o.name}])})),s.ZP.success("".concat(e.file.name," file uploaded successfully.")).then()):"error"===r&&s.ZP.error("".concat(e.file.name," file upload failed.")).then()},onDrop:function(e){console.log("Dropped files",e.dataTransfer.files)}};return(0,c.jsxs)(l,(0,r.Z)((0,r.Z)({},t),{},{children:[(0,c.jsx)("p",{className:"ant-upload-drag-icon",children:(0,c.jsx)(o.Z,{})}),(0,c.jsx)("p",{className:"ant-upload-text",children:"Click or drag file to this area to upload"}),(0,c.jsx)("p",{className:"ant-upload-hint",children:"Support for a single or bulk upload. Strictly prohibited from uploading company data or other banned files."})]}))}},77841:function(e,n,t){var r=t(15671),i=t(43144),o=t(58976),a=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"success",value:function(e){o.s&&o.s.enqueueSnackbar(e,{variant:"success"})}},{key:"error",value:function(e){o.s&&o.s.enqueueSnackbar(e,{variant:"error"})}}]),e}();n.Z=new a},47658:function(e,n,t){t.r(n);var r=t(74165),i=t(15861),o=t(29439),a=t(28089),s=t(57829),u=t(9019),c=t(42832),l=t(23306),d=t(49914),h=t(15480),f=t(19536),p=t(69490),m=t(7410),g=t(47313),v=t(40621),x=t(36594),Z=t(77841),b=t(58467),j=t(51406),w=t(35509),S=t(46417);n.default=function(){var e=(0,g.useState)(!1),n=(0,o.Z)(e,2),t=n[0],k=n[1],P=(0,g.useState)([]),y=(0,o.Z)(P,2),_=y[0],C=y[1],B=(0,g.useState)(!1),D=(0,o.Z)(B,2),N=(D[0],D[1],(0,b.s0)()),R=function(e){e.attachments=_,k(!0),(0,x.AG)(e).then((function(e){console.log("Response",e),Z.Z.success("Voucher was successfully added"),N("/vouchers",{replace:!0})})).catch((function(e){k(!1),console.log(e),Z.Z.error("Failed to add Voucher")}))};return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(v.Z,{title:"Adding Voucher",content:!1,border:!1,boxShadow:!0,children:(0,S.jsx)(s.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,S.jsx)(m.J9,{initialValues:{title:"",amount:"",details:"",attachments:[],submit:null},validationSchema:a.Ry().shape({title:a.Z_().max(255).required("Title is required"),amount:a.Z_().required("Amount is required"),details:a.Z_().max(255).required("Title is required")}),onSubmit:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(n,t){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.setErrors,t.setStatus,t.setSubmitting,R(n);case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,r=e.handleBlur,i=e.handleChange,o=e.handleSubmit,a=(e.isSubmitting,e.touched),s=e.values;return(0,S.jsxs)("form",{noValidate:!0,onSubmit:o,children:[(0,S.jsxs)(u.ZP,{container:!0,spacing:3,mb:3,children:[(0,S.jsx)(u.ZP,{item:!0,xs:6,children:(0,S.jsxs)(c.Z,{spacing:1,children:[(0,S.jsx)(l.Z,{htmlFor:"bootstrap",children:"Title"}),(0,S.jsx)(d.Z,{id:"email-login",type:"text",value:s.bl_number,name:"title",onBlur:r,onChange:i,placeholder:"eg. P3023423",fullWidth:!0,error:Boolean(a.title&&n.title)}),a.title&&n.title&&(0,S.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.title})]})}),(0,S.jsx)(u.ZP,{item:!0,xs:6,children:(0,S.jsxs)(c.Z,{spacing:1,children:[(0,S.jsx)(l.Z,{htmlFor:"bootstrap",children:"Amount"}),(0,S.jsx)(d.Z,{id:"email-login",type:"number",value:s.amount,name:"amount",onBlur:r,onChange:i,placeholder:"$",fullWidth:!0,error:Boolean(a.amount&&n.amount)}),a.amount&&n.amount&&(0,S.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.amount})]})})]}),(0,S.jsxs)(u.ZP,{container:!0,spacing:3,mb:3,children:[(0,S.jsx)(u.ZP,{item:!0,xs:6,children:(0,S.jsxs)(c.Z,{spacing:1,children:[(0,S.jsx)(l.Z,{htmlFor:"bootstrap",children:"Details"}),(0,S.jsx)(d.Z,{id:"email-login",type:"text",value:s.details,name:"details",onBlur:r,onChange:i,placeholder:"eg. John",fullWidth:!0,multiline:!0,rows:5,maxRows:10,error:Boolean(a.details&&n.details)}),a.details&&n.details&&(0,S.jsx)(h.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.details})]})}),(0,S.jsx)(u.ZP,{item:!0,xs:6,children:(0,S.jsxs)(c.Z,{spacing:1,children:[(0,S.jsx)(f.Z,{children:"Attachments"}),(0,S.jsx)(w.Z,{setFileNames:C})]})})]}),(0,S.jsx)(u.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mg:3,children:(0,S.jsx)(u.ZP,{item:!0,xs:6,children:(0,S.jsx)(p.Z,{children:(0,S.jsx)(j.Z,{disableElevation:!0,loading:t,disabled:t,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",children:"Submit"})})})})]})}})})})})}},36594:function(e,n,t){t.d(n,{AG:function(){return _},Bl:function(){return N},Bm:function(){return C},CT:function(){return j},GV:function(){return Z},Gn:function(){return k},HL:function(){return P},JN:function(){return B},OP:function(){return f},PB:function(){return v},Qb:function(){return l},SP:function(){return S},Um:function(){return m},b6:function(){return D},gi:function(){return p},kl:function(){return b},l2:function(){return w},nD:function(){return g},r2:function(){return x},rW:function(){return h},vy:function(){return d},xr:function(){return y}});var r=t(56573),i=t(41209),o=t(58976);function a(e,n){return new Promise((function(t,o){r.Z.post(i.D.apiURL+e,n).then((function(e){e.headers,t(e.data)})).catch((function(e){e.response&&(401===e.response.status||400===e.response.status||500===e.response.status||e.response&&429===e.response.status||console.log("Error occurred, status: "+e.response.status)),console.log(e),o(e)}))}))}function s(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(a,s){r.Z.get(i.D.apiURL+e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){a(e.data)})).catch((function(e){e.response?e.response&&401===e.response.status&&n&&!t||e.response&&e.response.status:o.s&&o.s.enqueueSnackbar("No network available, Please Connect to a Network!",{variant:"warning"}),s(e)}))}))}function u(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(a,s){r.Z.post(i.D.apiURL+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){a(e.data)})).catch((function(e){e.response&&401===e.response.status&&t&&!o||(e.response&&e.response.status,s(e))}))}))}function c(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(a,s){r.Z.put(i.D.apiURL+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){a(e.data)})).catch((function(e){e.response&&401===e.response.status&&t&&!o||(e.response&&e.response.status,s(e))}))}))}function l(e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r={};return""!==t&&(r.mfaCode=t),a("api/auth/login",{email:e,password:n},!1)}function d(e,n,t){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i={};return""!==r&&(i.mfaCode=r),u("api/auth/reset-password/"+t,{password:e,confirm_password:n},!1)}function h(){return s("api/v1/users-list/")}function f(e){return u("api/v1/register-user",e)}function p(e){return s("api/v1/user/"+e)}function m(e,n){return c("api/v1/user/"+e,n)}function g(){return s("api/v1/roles")}function v(e){return u("api/v1/bls",e)}function x(){return s("api/v1/bls-list/")}function Z(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=[n?"include_charges=".concat("true"):"",t?"include_timeline=".concat("true"):""].filter(Boolean).join("&"),i="api/v1/bl/".concat(e).concat(r?"?".concat(r):"");return s(i)}function b(e){return s("api/v1/bl-attachments?bl_id="+e)}function j(){return s("api/v1/charges-list/")}function w(){return s("api/v1/bl-charges-list/")}function S(e){return u("api/v1/bl-charges",e)}function k(e){return s("api/v1/bl-charge/"+e)}function P(e,n){return c("api/v1/bl-charge/"+e,n)}function y(e){return s("api/v1/bl-charge-attachments?bl_charge_id="+e)}function _(e){return u("api/v1/vouchers",e)}function C(){return s("api/v1/vouchers-list/")}function B(e){return s("api/v1/voucher/"+e)}function D(e,n){return c("api/v1/voucher/"+e,n)}function N(e){return s("api/v1/voucher-attachments?voucher_id="+e)}},41209:function(e,n,t){t.d(n,{D:function(){return r}});var r={socketURL:"ws://127.0.0.1:5500/",mediaURL:"http://161.35.210.153:5000/media/v1/",apiURL:"http://161.35.210.153/"}}}]);
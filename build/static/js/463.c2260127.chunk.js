"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[463],{50494:function(e,n,t){var i=t(7655),o=t(46417);n.Z=function(e){var n=e.isModalOpen,t=void 0!==n&&n,r=e.onDelete,s=void 0===r?function(){}:r,l=e.setIsModalOpen,c=e.message,a=void 0===c?"Are you sure you want to delete this content?":c;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(i.Z,{centered:!0,title:"Are you sure",open:t,onOk:function(){s()},onCancel:function(){l(!1)},children:(0,o.jsxs)(o.Fragment,{children:[" ",a," "]})})})}},2661:function(e,n,t){var i=t(1413),o=t(79601),r=t(17592),s=t(17551),l=t(46417),c=(0,r.ZP)((function(e){return(0,l.jsx)(o.Z,(0,i.Z)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var n=e.theme;return{"& .MuiPaper-root":{borderRadius:3,marginTop:n.spacing(1),minWidth:140,backgroundColor:n.palette.grey[100],color:"light"===n.palette.mode?"rgb(55, 65, 81)":n.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 10px 7px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:n.palette.text.secondary,marginRight:n.spacing(1.5)},"&:active":{backgroundColor:(0,s.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}}}}));n.Z=c},29463:function(e,n,t){t.r(n);var i=t(29439),o=t(9019),r=t(69099),s=t(70501),l=t(51629),c=t(66835),a=t(23477),d=t(24076),u=t(67478),h=t(57861),x=t(47131),p=t(51405),Z=t(62323),g=t(40621),m=t(63669),j=t(47313),f=t(58467),v=t(10237),b=t(32499),y=t(17885),P=t(73507),z=t(19768),C=t(2661),k=t(77841),M=t(50494),S=t(46417);n.default=function(){var e=(0,j.useState)(null),n=(0,i.Z)(e,2),t=n[0],w=n[1],O=(0,j.useState)([]),A=(0,i.Z)(O,2),F=A[0],I=A[1],_=(0,j.useState)(null),E=(0,i.Z)(_,2),R=E[0],H=E[1],D=(0,j.useState)(0),U=(0,i.Z)(D,2),W=U[0],T=U[1],q=(0,j.useState)(10),B=(0,i.Z)(q,2),L=B[0],N=B[1],V=(0,j.useState)(!1),Y=(0,i.Z)(V,2),G=Y[0],J=Y[1],K=(0,f.s0)(),Q=Boolean(t),X=function(){w(null)},$=function(){(0,z.rW)().then((function(e){console.log(e),I(e.results)})).catch((function(e){console.log(e)}))},ee=function(){w(null),J(!0)};return(0,j.useEffect)((function(){$()}),[]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(g.Z,{title:(0,S.jsx)(S.Fragment,{children:(0,S.jsxs)(o.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,S.jsx)(o.ZP,{item:!0,children:"All Users"}),(0,S.jsx)(o.ZP,{item:!0,xs:12,md:6,lg:4,sx:{ml:"auto"},children:(0,S.jsx)(r.Z,{variant:"contained",endIcon:(0,S.jsx)(P.Z,{}),onClick:function(){K("create-user")},children:"Add User"})})]})}),children:(0,S.jsxs)(s.Z,{children:[(0,S.jsx)(l.Z,{children:(0,S.jsxs)(c.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,S.jsx)(a.Z,{children:(0,S.jsxs)(d.Z,{children:[(0,S.jsx)(u.Z,{children:"Created At"}),(0,S.jsx)(u.Z,{children:"Full Name"}),(0,S.jsx)(u.Z,{children:"Email"}),(0,S.jsx)(u.Z,{children:"Role"}),(0,S.jsx)(u.Z,{children:"Actions"})]})}),(0,S.jsx)(h.Z,{children:F.slice(W*L,W*L+L).map((function(e,n){return(0,S.jsxs)(d.Z,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,S.jsx)(u.Z,{children:(0,m.gg)(e.date_joined)}),(0,S.jsxs)(u.Z,{children:[e.first_name," ",e.last_name]}),(0,S.jsx)(u.Z,{children:e.email}),(0,S.jsx)(u.Z,{children:(0,m.An)(e.role)}),(0,S.jsx)(u.Z,{children:(0,S.jsxs)("div",{children:[(0,S.jsx)(x.Z,{"aria-label":"more",id:"long-button","aria-controls":Q?"demo-customized-menu":void 0,"aria-expanded":Q?"true":void 0,disableElevation:!0,"aria-haspopup":"true",onClick:function(n){return function(e,n){H(n),w(e.currentTarget)}(n,e)},children:(0,S.jsx)(b.Z,{})}),(0,S.jsxs)(C.Z,{id:"demo-customized-menu",anchorEl:t,open:Q,onClose:X,MenuListProps:{"aria-labelledby":"demo-customized-menu"},children:[(0,S.jsxs)(p.Z,{onClick:function(){var e;e=R.id,K("edit-user/"+e)},children:[(0,S.jsx)(v.Z,{style:{fontSize:25,color:"green"}}),"Edit"]}),(0,S.jsxs)(p.Z,{onClick:ee,disableRipple:!0,children:[(0,S.jsx)(y.Z,{style:{fontSize:25,color:"red"}}),"Delete"]})]})]})})]},n)}))})]})}),(0,S.jsx)(Z.Z,{rowsPerPageOptions:[10,15,20],component:"div",count:F.length,rowsPerPage:L,page:W,onPageChange:function(e,n){T(n)},onRowsPerPageChange:function(e){N(+e.target.value),T(0)}})]})}),(0,S.jsx)(M.Z,{isModalOpen:G,setIsModalOpen:J,onDelete:function(){(0,z.Yb)(R.id).then((function(e){k.Z.success("User deleted successfully"),J(!1),$()})).catch((function(e){console.log(e),k.Z.error("Failed to delete user")}))},message:null!=R&&"Are you sure you want to delete ".concat(R.first_name)})]})}},73507:function(e,n,t){var i=t(64836);n.Z=void 0;var o=i(t(45045)),r=t(46417),s=(0,o.default)((0,r.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2H9zm-3-3v-3h3v-2H6V7H4v3H1v2h3v3z"}),"PersonAddOutlined");n.Z=s}}]);
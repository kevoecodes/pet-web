"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[163],{99163:function(e,s,l){l.r(s);var n=l(29439),o=l(58467),t=l(22778),i=l(47313),r=l(75697),a=l(36594),c=l(77841),u=l(40621),d=l(57829),f=l(46417);s.default=function(){var e=(0,i.useState)([]),s=(0,n.Z)(e,2),l=s[0],m=s[1],h=(0,i.useState)(null),Z=(0,n.Z)(h,2),_=Z[0],g=Z[1],p=(0,i.useState)(!1),x=(0,n.Z)(p,2),b=x[0],S=(x[1],(0,i.useState)(!0)),w=(0,n.Z)(S,2),j=w[0],k=w[1],F=(0,o.UO)(),U=(0,o.s0)();console.log("Params",F);return(0,i.useEffect)((function(){(0,r.Rn)(m),(0,a.gi)(F.user_id).then((function(e){g({first_name:e.first_name,last_name:e.last_name,cellphone:e.cellphone,email:e.email,role:null!==e.role?e.role.id:""}),k(!1)})).catch((function(e){console.log(e),c.Z.error("Failed to load user details"),U("/users",{replace:!0})}))}),[]),(0,f.jsx)(f.Fragment,{children:(0,f.jsx)(u.Z,{title:"Editing a User",content:!1,border:!1,boxShadow:!0,children:(0,f.jsx)(d.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:!j&&(0,f.jsx)(t.Z,{initialValues:_,role_options:l,onSubmitForm:function(e){return function(e){console.log(e),(0,a.Um)(F.user_id,e).then((function(e){console.log(e),c.Z.success("User details edited successfully"),U("/users",{replace:!0})})).catch((function(e){console.log(e),c.Z.error("Failed to edit user details")}))}(e)},initial_role:_.role,loading:b})})})})}}}]);
"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[654],{77841:function(n,e,r){var s=r(15671),t=r(43144),i=r(78413),o=function(){function n(){(0,s.Z)(this,n)}return(0,t.Z)(n,[{key:"success",value:function(n){i.s&&i.s.enqueueSnackbar(n,{variant:"success"})}},{key:"error",value:function(n){i.s&&i.s.enqueueSnackbar(n,{variant:"error"})}}]),n}();e.Z=new o},91905:function(n,e,r){r.d(e,{Z:function(){return g}});var s=r(57829),t=r(9019),i=r(1413),o=r(45987),a=r(40621),u=r(46417),c=["children"],d=function(n){var e=n.children,r=(0,o.Z)(n,c);return(0,u.jsx)(a.Z,(0,i.Z)((0,i.Z)({sx:{maxWidth:{xs:400,lg:475},margin:{xs:2.5,md:3},"& > *":{flexGrow:1,flexBasis:"50%"}},content:!1},r),{},{border:!1,boxShadow:!0,shadow:function(n){return n.customShadows.z1},children:(0,u.jsx)(s.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:e})}))},l=r(16406),p=r(24813),h=r(47825),f=r(42832),m=r(61113),x=r(90891),w=function(){var n=(0,p.Z)((function(n){return n.breakpoints.down("sm")}));return(0,u.jsx)(h.Z,{maxWidth:"xl",children:(0,u.jsx)(f.Z,{direction:n?"column":"row",justifyContent:n?"center":"space-between",spacing:2,textAlign:n?"center":"inherit",children:(0,u.jsxs)(m.Z,{variant:"subtitle2",color:"secondary",component:"span",children:["\xa9 Pet Tracker System By\xa0",(0,u.jsx)(m.Z,{component:x.Z,variant:"subtitle2",href:"#",target:"_blank",underline:"hover",children:"Abdul Nassir (NIT)"})]})})})},g=function(n){var e=n.children;return(0,u.jsx)(s.Z,{sx:{minHeight:"100vh"},children:(0,u.jsxs)(t.ZP,{container:!0,direction:"column",justifyContent:"flex-end",sx:{minHeight:"100vh"},children:[(0,u.jsx)(t.ZP,{item:!0,xs:12,sx:{ml:3,mt:3},children:(0,u.jsx)(l.Z,{})}),(0,u.jsx)(t.ZP,{item:!0,xs:12,children:(0,u.jsx)(t.ZP,{item:!0,xs:12,container:!0,justifyContent:"center",alignItems:"center",sx:{minHeight:{xs:"calc(100vh - 134px)",md:"calc(100vh - 112px)"}},children:(0,u.jsx)(t.ZP,{item:!0,children:(0,u.jsx)(d,{children:e})})})}),(0,u.jsx)(t.ZP,{item:!0,xs:12,sx:{m:3,mt:1},children:(0,u.jsx)(w,{})})]})})}},51654:function(n,e,r){r.r(e),r.d(e,{default:function(){return C}});var s=r(9019),t=r(42832),i=r(61113),o=r(91905),a=r(74165),u=r(15861),c=r(29439),d=r(47313),l=r(23306),p=r(37843),h=r(41727),f=r(47131),m=r(15480),x=r(28089),w=r(7410),g=r(69490),Z=r(58467),v=r(36594),j=r(51406),b=r(16067),P=r(44874),S=r(77841),k=r(95795),y=r(46417),_=function(){var n=(0,d.useState)(!1),e=(0,c.Z)(n,2),r=(e[0],e[1],(0,d.useState)(!1)),i=(0,c.Z)(r,2),o=i[0],_=i[1],C=(0,d.useState)(!1),D=(0,c.Z)(C,2),R=D[0],U=D[1],z=(0,d.useState)(!1),L=(0,c.Z)(z,2),A=L[0],N=L[1],q=(0,Z.s0)(),B=(0,Z.UO)(),I=function(){_(!o)},O=function(){U(!R)},T=function(n){n.preventDefault()},W=function(n){N(!0),(0,v.vy)(n.password,n.confirm_password,B.user_id).then((function(n){S.Z.success("Password reset successfully"),k.Z.getUser(),q({pathname:"/"},{replace:!0})})).catch((function(n){console.log(n),S.Z.error("Something went wrong"),N(!1)}))};return(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(w.J9,{initialValues:{password:"",confirm_password:"",submit:null},validationSchema:x.Ry().shape({password:x.Z_().max(255).required("Password is required"),confirm_password:x.Z_().oneOf([x.iH("password"),null],"Passwords must match").max(255).required("Password is required")}),onSubmit:function(){var n=(0,u.Z)((0,a.Z)().mark((function n(e,r){return(0,a.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r.setErrors,r.setStatus,r.setSubmitting,W(e);case 2:case"end":return n.stop()}}),n)})));return function(e,r){return n.apply(this,arguments)}}(),children:function(n){var e=n.errors,r=n.handleBlur,i=n.handleChange,a=n.handleSubmit,u=(n.isSubmitting,n.touched),c=n.values;return(0,y.jsx)("form",{noValidate:!0,onSubmit:a,children:(0,y.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsxs)(t.Z,{spacing:1,children:[(0,y.jsx)(l.Z,{htmlFor:"email-login",children:"Password"}),(0,y.jsx)(p.Z,{fullWidth:!0,error:Boolean(u.password&&e.password),id:"-password-login",type:o?"text":"password",value:c.password,name:"password",onBlur:r,onChange:i,endAdornment:(0,y.jsx)(h.Z,{position:"end",children:(0,y.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:I,onMouseDown:T,edge:"end",size:"large",children:o?(0,y.jsx)(b.Z,{}):(0,y.jsx)(P.Z,{})})}),placeholder:"Enter password"}),u.password&&e.password&&(0,y.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:e.password})]})}),(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsxs)(t.Z,{spacing:1,children:[(0,y.jsx)(l.Z,{htmlFor:"password-login",children:"Repeat Password"}),(0,y.jsx)(p.Z,{fullWidth:!0,error:Boolean(u.confirm_password&&e.confirm_password),id:"-password-login",type:R?"text":"password",value:c.confirm_password,name:"confirm_password",onBlur:r,onChange:i,endAdornment:(0,y.jsx)(h.Z,{position:"end",children:(0,y.jsx)(f.Z,{"aria-label":"toggle password visibility",onClick:O,onMouseDown:T,edge:"end",size:"large",children:R?(0,y.jsx)(b.Z,{}):(0,y.jsx)(P.Z,{})})}),placeholder:"Enter password"}),u.confirm_password&&e.confirm_password&&(0,y.jsx)(m.Z,{error:!0,id:"standard-weight-helper-text-password-login",children:e.confirm_password})]})}),(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsx)(g.Z,{children:(0,y.jsx)(j.Z,{loading:A,disableElevation:!0,disabled:A,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",loadingPosition:"end",children:"Submit"})})})]})})}})})},C=function(){return(0,y.jsx)(o.Z,{children:(0,y.jsxs)(s.ZP,{container:!0,spacing:3,children:[(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsx)(t.Z,{direction:"row",justifyContent:"space-between",alignItems:"baseline",sx:{mb:{xs:-.5,sm:.5}},children:(0,y.jsx)(i.Z,{variant:"h3",children:"Reset Password"})})}),(0,y.jsx)(s.ZP,{item:!0,xs:12,children:(0,y.jsx)(_,{})})]})})}},36594:function(n,e,r){r.d(e,{LD:function(){return b},OP:function(){return f},Qb:function(){return l},Um:function(){return w},Yb:function(){return x},gi:function(){return m},hK:function(){return g},mL:function(){return v},rW:function(){return h},us:function(){return j},vy:function(){return p},zd:function(){return Z}});var s=r(56573),t=r(41209),i=r(78413);function o(n,e){return new Promise((function(r,i){s.Z.post(t.D.apiURL+n,e).then((function(n){n.headers,r(n.data)})).catch((function(n){n.response&&(401===n.response.status||400===n.response.status||500===n.response.status||n.response&&429===n.response.status||console.log("Error occurred, status: "+n.response.status)),console.log(n),i(n)}))}))}function a(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(o,a){s.Z.get(t.D.apiURL+n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){o(n.data)})).catch((function(n){n.response?n.response&&401===n.response.status&&e&&!r||n.response&&n.response.status:i.s&&i.s.enqueueSnackbar("No network available, Please Connect to a Network!",{variant:"warning"}),a(n)}))}))}function u(n,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,a){s.Z.post(t.D.apiURL+n,e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){o(n.data)})).catch((function(n){n.response&&401===n.response.status&&r&&!i||(n.response&&n.response.status,a(n))}))}))}function c(n,e){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(o,a){s.Z.put(t.D.apiURL+n,e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){o(n.data)})).catch((function(n){n.response&&401===n.response.status&&r&&!i||(n.response&&n.response.status,a(n))}))}))}function d(n){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,o){s.Z.delete(t.D.apiURL+n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(n){i(n.data)})).catch((function(n){n.response&&401===n.response.status&&e&&!r||(n.response&&n.response.status,o(n))}))}))}function l(n,e){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s={};return""!==r&&(s.mfaCode=r),o("api/auth/login",{email:n,password:e},!1)}function p(n,e,r){var s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",t={};return""!==s&&(t.mfaCode=s),u("api/auth/reset-password/"+r,{password:n,confirm_password:e},!1)}function h(){return a("api/v1/users-list/")}function f(n){return u("api/v1/register-user",n)}function m(n){return a("api/v1/user/"+n)}function x(n){return d("api/v1/user/"+n)}function w(n,e){return c("api/v1/user/"+n,e)}function g(){return a("api/v1/list-pets/")}function Z(n){return u("api/v1/pets",n)}function v(n,e){return c("api/v1/pet/"+n,e)}function j(n){return a("api/v1/pet/"+n)}function b(n){return d("api/v1/pet/"+n)}},41209:function(n,e,r){r.d(e,{D:function(){return s}});var s={mediaURL:"http://161.35.210.153:6500/media/v1/",apiURL:"http://161.35.210.153:5500/"}}}]);
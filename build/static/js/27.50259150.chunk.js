"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[27],{63669:function(e,n,t){t.d(n,{Rn:function(){return s},gg:function(){return o}});var r=t(22098),o=(t(46417),function(e){return new Date(e).toLocaleString()}),s=function(e){(0,r.nD)().then((function(n){console.log(n),e(n)})).catch((function(e){console.log(e)}))}},26027:function(e,n,t){t.r(n),t.d(n,{default:function(){return A}});var r=t(70885),o=t(9019),s=t(69099),i=t(70501),a=t(51629),c=t(66835),u=t(23477),l=t(24076),d=t(67478),h=t(57861),p=t(47131),f=t(51405),g=t(62323),x=t(40621),v=t(63669),m=t(47313),Z=t(58467),j=t(10237),b=t(32499),z=t(17885),k=t(73507),w=t(22098),P=t(1413),S=t(79601),C=t(17592),M=t(17551),y=t(46417),O=(0,C.ZP)((function(e){return(0,y.jsx)(S.Z,(0,P.Z)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var n=e.theme;return{"& .MuiPaper-root":{borderRadius:3,marginTop:n.spacing(1),minWidth:140,backgroundColor:n.palette.grey[100],color:"light"===n.palette.mode?"rgb(55, 65, 81)":n.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 10px 7px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:n.palette.text.secondary,marginRight:n.spacing(1.5)},"&:active":{backgroundColor:(0,M.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}}}})),A=function(){var e=(0,m.useState)(null),n=(0,r.Z)(e,2),t=n[0],P=n[1],S=(0,m.useState)([]),C=(0,r.Z)(S,2),M=C[0],A=C[1],I=(0,m.useState)(null),E=(0,r.Z)(I,2),H=E[0],L=E[1],N=(0,m.useState)(0),R=(0,r.Z)(N,2),_=R[0],D=R[1],F=(0,m.useState)(10),T=(0,r.Z)(F,2),V=T[0],W=T[1],J=(0,Z.s0)(),U=Boolean(t),q=function(){P(null)};return(0,m.useEffect)((function(){(0,w.rW)().then((function(e){console.log(e),A(e.results)})).catch((function(e){console.log(e)}))}),[]),(0,y.jsx)(y.Fragment,{children:(0,y.jsx)(x.Z,{title:(0,y.jsx)(y.Fragment,{children:(0,y.jsxs)(o.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,y.jsx)(o.ZP,{item:!0,children:"All Users"}),(0,y.jsx)(o.ZP,{item:!0,xs:12,md:6,lg:4,sx:{ml:"auto"},children:(0,y.jsx)(s.Z,{variant:"contained",endIcon:(0,y.jsx)(k.Z,{}),onClick:function(){J("create-user")},children:"Add User"})})]})}),children:(0,y.jsxs)(i.Z,{children:[(0,y.jsx)(a.Z,{children:(0,y.jsxs)(c.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,y.jsx)(u.Z,{children:(0,y.jsxs)(l.Z,{children:[(0,y.jsx)(d.Z,{children:"Created At"}),(0,y.jsx)(d.Z,{children:"Full Name"}),(0,y.jsx)(d.Z,{children:"Email"}),(0,y.jsx)(d.Z,{children:"Role"}),(0,y.jsx)(d.Z,{children:"Actions"})]})}),(0,y.jsx)(h.Z,{children:M.slice(_*V,_*V+V).map((function(e,n){return(0,y.jsxs)(l.Z,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,y.jsx)(d.Z,{children:(0,v.gg)(e.date_joined)}),(0,y.jsxs)(d.Z,{children:[e.first_name," ",e.last_name]}),(0,y.jsx)(d.Z,{children:e.email}),(0,y.jsx)(d.Z,{children:e.role.title}),(0,y.jsx)(d.Z,{children:(0,y.jsxs)("div",{children:[(0,y.jsx)(p.Z,{"aria-label":"more",id:"long-button","aria-controls":U?"demo-customized-menu":void 0,"aria-expanded":U?"true":void 0,disableElevation:!0,"aria-haspopup":"true",onClick:function(n){return function(e,n){L(n),P(e.currentTarget)}(n,e)},children:(0,y.jsx)(b.Z,{})}),(0,y.jsxs)(O,{id:"demo-customized-menu",anchorEl:t,open:U,onClose:q,MenuListProps:{"aria-labelledby":"demo-customized-menu"},children:[(0,y.jsxs)(f.Z,{onClick:function(){var e;e=H.id,J("edit-user/"+e)},children:[(0,y.jsx)(j.Z,{style:{fontSize:25,color:"green"}}),"Edit"]}),(0,y.jsxs)(f.Z,{onClick:q,disableRipple:!0,children:[(0,y.jsx)(z.Z,{style:{fontSize:25,color:"red"}}),"Delete"]})]})]})})]},n)}))})]})}),(0,y.jsx)(g.Z,{rowsPerPageOptions:[10,15,20],component:"div",count:M.length,rowsPerPage:V,page:_,onPageChange:function(e,n){D(n)},onRowsPerPageChange:function(e){W(+e.target.value),D(0)}})]})})})}},22098:function(e,n,t){t.d(n,{Um:function(){return g},nD:function(){return x},gi:function(){return f},rW:function(){return h},Qb:function(){return l},OP:function(){return p},vy:function(){return d}});var r=t(56573),o="http://161.35.210.153:5500/",s=t(26660);function i(e,n){return new Promise((function(t,s){r.Z.post(o+e,n).then((function(e){e.headers,t(e.data)})).catch((function(e){e.response&&(401===e.response.status||400===e.response.status||500===e.response.status||e.response&&429===e.response.status||console.log("Error occurred, status: "+e.response.status)),console.log(e),s(e)}))}))}function a(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,a){r.Z.get(o+e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){i(e.data)})).catch((function(e){e.response?e.response&&401===e.response.status&&n&&!t||e.response&&e.response.status:s.s&&s.s.enqueueSnackbar("No network available, Please Connect to a Network!",{variant:"warning"}),a(e)}))}))}function c(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(i,a){r.Z.post(o+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){i(e.data)})).catch((function(e){e.response&&401===e.response.status&&t&&!s||(e.response&&e.response.status,a(e))}))}))}function u(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(i,a){r.Z.put(o+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){i(e.data)})).catch((function(e){e.response&&401===e.response.status&&t&&!s||(e.response&&e.response.status,a(e))}))}))}function l(e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r={};return""!==t&&(r.mfaCode=t),i("api/auth/login",{email:e,password:n},!1)}function d(e,n,t){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o={};return""!==r&&(o.mfaCode=r),c("api/auth/reset-password/"+t,{password:e,confirm_password:n},!1)}function h(){return a("api/v1/users-list/")}function p(e){return c("api/v1/register-user",e)}function f(e){return a("api/v1/user/"+e)}function g(e,n){return u("api/v1/user/"+e,n)}function x(){return a("api/v1/roles")}},17885:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45045)),s=t(46417),i=(0,o.default)((0,s.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");n.Z=i},73507:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45045)),s=t(46417),i=(0,o.default)((0,s.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2H9zm-3-3v-3h3v-2H6V7H4v3H1v2h3v3z"}),"PersonAddOutlined");n.Z=i},10237:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45045)),s=t(46417),i=(0,o.default)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");n.Z=i}}]);
"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[110],{42110:function(e,i,n){n.r(i);var r=n(29439),l=(n(28089),n(57829)),a=(n(69490),n(7410),n(47313)),t=n(40621),s=n(19768),o=n(77841),c=n(58467),d=n(22778),m=(n(63669),n(46417));i.default=function(){var e=a.useState(!1),i=(0,r.Z)(e,2),n=i[0],h=i[1],u=a.useState([]),x=(0,r.Z)(u,2),Z=x[0],p=(x[1],a.useState(!1)),g=(0,r.Z)(p,2),j=(g[0],g[1],(0,c.s0)());return(0,a.useEffect)((function(){}),[]),(0,m.jsx)(m.Fragment,{children:(0,m.jsx)(t.Z,{title:"Creating a User",content:!1,border:!1,boxShadow:!0,children:(0,m.jsx)(l.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,m.jsx)(d.Z,{role_options:Z,onSubmitForm:function(e){return function(e){h(!0),(0,s.OP)(e).then((function(e){console.log(e),h(!1),o.Z.success("User Created successfully"),j("/users",{replace:!0})})).catch((function(e){console.log(e),o.Z.error("Failed to create user"),h(!1)}))}(e)},loading:n})})})})}},22778:function(e,i,n){var r=n(74165),l=n(15861),a=n(29439),t=n(9019),s=n(42832),o=n(23306),c=n(37843),d=n(15480),m=n(24256),h=n(51405),u=n(7410),x=n(28089),Z=n(69490),p=n(51406),g=n(47313),j=n(46417);i.Z=function(e){var i=e.onSubmitForm,n=(e.role_options,e.loading),f=e.initial_role,b=void 0===f?"":f,_=e.initialValues,v=void 0===_?null:_,S=(0,g.useState)(b),P=(0,a.Z)(S,2),w=P[0],F=P[1],C=(0,g.useState)(!1),y=(0,a.Z)(C,2),B=y[0],q=y[1];return(0,j.jsx)(j.Fragment,{children:(0,j.jsx)(u.J9,{initialValues:null===v?{first_name:"",last_name:"",cellphone:"",email:"",role:""}:v,validationSchema:x.Ry().shape({email:x.Z_().email("Must be a valid email").max(255).required("Email is required"),first_name:x.Z_().max(255).required("First Name is required"),last_name:x.Z_().max(255).required("Last Name is required"),cellphone:x.Z_().max(9).min(9).required("Phone Number is required")}),onSubmit:function(){var e=(0,l.Z)((0,r.Z)().mark((function e(n,l){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:l.setErrors,l.setStatus,l.setSubmitting,""!==w&&(n.role=w,i(n));case 2:case"end":return e.stop()}}),e)})));return function(i,n){return e.apply(this,arguments)}}(),children:function(e){var i=e.errors,r=e.handleBlur,l=e.handleChange,a=e.handleSubmit,u=(e.isSubmitting,e.touched),x=e.values;return(0,j.jsxs)("form",{noValidate:!0,onSubmit:function(e){q(""===w),a(e)},children:[(0,j.jsxs)(t.ZP,{container:!0,spacing:3,mb:3,children:[(0,j.jsx)(t.ZP,{item:!0,xs:6,children:(0,j.jsxs)(s.Z,{spacing:1,children:[(0,j.jsx)(o.Z,{htmlFor:"bootstrap",children:"First Name"}),(0,j.jsx)(c.Z,{id:"email-login",type:"text",value:x.first_name,name:"first_name",onBlur:r,onChange:l,placeholder:"eg. John",fullWidth:!0,error:Boolean(u.first_name&&i.first_name)}),u.first_name&&i.first_name&&(0,j.jsx)(d.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.first_name})]})}),(0,j.jsx)(t.ZP,{item:!0,xs:6,children:(0,j.jsxs)(s.Z,{spacing:1,children:[(0,j.jsx)(o.Z,{htmlFor:"bootstrap",children:"Last Name"}),(0,j.jsx)(c.Z,{id:"email-login",type:"text",value:x.last_name,name:"last_name",onBlur:r,onChange:l,placeholder:"eg. Doe",fullWidth:!0,error:Boolean(u.last_name&&i.last_name)}),u.last_name&&i.last_name&&(0,j.jsx)(d.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.last_name})]})})]}),(0,j.jsxs)(t.ZP,{container:!0,spacing:3,mb:3,children:[(0,j.jsx)(t.ZP,{item:!0,xs:6,children:(0,j.jsxs)(s.Z,{spacing:1,children:[(0,j.jsx)(o.Z,{htmlFor:"bootstrap",children:"Phone Number"}),(0,j.jsx)(c.Z,{id:"email-login",type:"number",value:x.cellphone,name:"cellphone",onBlur:r,onChange:l,placeholder:"eg. 0711111111",fullWidth:!0,error:Boolean(u.cellphone&&i.cellphone)}),u.cellphone&&i.cellphone&&(0,j.jsx)(d.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.cellphone})]})}),(0,j.jsx)(t.ZP,{item:!0,xs:6,children:(0,j.jsxs)(s.Z,{spacing:1,children:[(0,j.jsx)(o.Z,{htmlFor:"bootstrap",children:"Email Address"}),(0,j.jsx)(c.Z,{id:"email-login",type:"email",value:x.email,name:"email",onBlur:r,onChange:l,placeholder:"eg. example@gmail.com",fullWidth:!0,error:Boolean(u.email&&i.email)}),u.email&&i.email&&(0,j.jsx)(d.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:i.email})]})})]}),(0,j.jsxs)(t.ZP,{container:!0,spacing:3,mb:3,children:[(0,j.jsx)(t.ZP,{item:!0,xs:6,children:(0,j.jsxs)(s.Z,{spacing:1,children:[(0,j.jsx)(o.Z,{htmlFor:"bootstrap",children:"Role"}),(0,j.jsxs)(m.Z,{labelId:"demo-simple-select-disabled-label",id:"demo-simple-select-disabled",value:w,onChange:function(e){q(!1),F(e.target.value)},error:Boolean(B),children:[(0,j.jsx)(h.Z,{value:0,children:"Admin"}),(0,j.jsx)(h.Z,{value:1,children:"User"})]}),B&&(0,j.jsx)(d.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:"Select Role"})]})}),i.submit&&(0,j.jsx)(t.ZP,{item:!0,xs:12,children:(0,j.jsx)(d.Z,{error:!0,children:i.submit})})]}),(0,j.jsx)(t.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mg:3,children:(0,j.jsx)(t.ZP,{item:!0,xs:6,children:(0,j.jsx)(Z.Z,{children:(0,j.jsx)(p.Z,{disableElevation:!0,disabled:n,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",loading:n,children:"Submit"})})})})]})}})})}}}]);
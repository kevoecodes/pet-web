"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[110],{63669:function(e,n,t){t.d(n,{pf:function(){return m},l:function(){return h},gg:function(){return d},Sh:function(){return u},An:function(){return c}});var r=t(1413),i=t(66212),o=t(41209),s=t(36594),a=t(46417),l=["#ff0707","#ffdd00","#99f600","#ff00dd","#00ffde","#07968a"],u=function(e){return console.log("Pet",!1===e),!0===e?(0,a.jsx)(i.Z,{color:"success",label:"Active"}):!1===e?(0,a.jsx)(i.Z,{color:"error",label:"Inactive"}):void 0},c=function(e){return 0===e?(0,a.jsx)(i.Z,{color:"primary",label:"Admin"}):1===e?(0,a.jsx)(i.Z,{color:"success",label:"User"}):void 0},d=function(e){return new Date(e).toLocaleString()},h=function(e){return"".concat(o.D.mediaURL,"images/").concat(e)},m=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){};(0,s.hK)().then((function(t){console.log(t);var i=t.results.map((function(e,n){return(0,r.Z)((0,r.Z)({},e),{},{color:l[n]})}));e(i),n(i)})).catch((function(e){console.log(e)}))}},77841:function(e,n,t){var r=t(15671),i=t(43144),o=t(24181),s=function(){function e(){(0,r.Z)(this,e)}return(0,i.Z)(e,[{key:"success",value:function(e){o.s&&o.s.enqueueSnackbar(e,{variant:"success"})}},{key:"error",value:function(e){o.s&&o.s.enqueueSnackbar(e,{variant:"error"})}}]),e}();n.Z=new s},42110:function(e,n,t){t.r(n);var r=t(29439),i=(t(28089),t(57829)),o=(t(69490),t(7410),t(47313)),s=t(40621),a=t(36594),l=t(77841),u=t(58467),c=t(22778),d=(t(63669),t(46417));n.default=function(){var e=o.useState(!1),n=(0,r.Z)(e,2),t=n[0],h=n[1],m=o.useState([]),f=(0,r.Z)(m,2),p=f[0],g=(f[1],o.useState(!1)),x=(0,r.Z)(g,2),v=(x[0],x[1],(0,u.s0)());return(0,o.useEffect)((function(){}),[]),(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(s.Z,{title:"Creating a User",content:!1,border:!1,boxShadow:!0,children:(0,d.jsx)(i.Z,{sx:{p:{xs:2,sm:3,md:4,xl:5}},children:(0,d.jsx)(c.Z,{role_options:p,onSubmitForm:function(e){return function(e){h(!0),(0,a.OP)(e).then((function(e){console.log(e),h(!1),l.Z.success("User Created successfully"),v("/users",{replace:!0})})).catch((function(e){console.log(e),l.Z.error("Failed to create user"),h(!1)}))}(e)},loading:t})})})})}},22778:function(e,n,t){var r=t(74165),i=t(15861),o=t(29439),s=t(9019),a=t(42832),l=t(23306),u=t(37843),c=t(15480),d=t(24256),h=t(51405),m=t(7410),f=t(28089),p=t(69490),g=t(51406),x=t(47313),v=t(46417);n.Z=function(e){var n=e.onSubmitForm,t=(e.role_options,e.loading),Z=e.initial_role,j=void 0===Z?"":Z,b=e.initialValues,S=void 0===b?null:b,_=(0,x.useState)(j),w=(0,o.Z)(_,2),P=w[0],k=w[1],y=(0,x.useState)(!1),C=(0,o.Z)(y,2),L=C[0],U=C[1];return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(m.J9,{initialValues:null===S?{first_name:"",last_name:"",cellphone:"",email:"",role:""}:S,validationSchema:f.Ry().shape({email:f.Z_().email("Must be a valid email").max(255).required("Email is required"),first_name:f.Z_().max(255).required("First Name is required"),last_name:f.Z_().max(255).required("Last Name is required"),cellphone:f.Z_().max(9).min(9).required("Phone Number is required")}),onSubmit:function(){var e=(0,i.Z)((0,r.Z)().mark((function e(t,i){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i.setErrors,i.setStatus,i.setSubmitting,""!==P&&(t.role=P,n(t));case 2:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),children:function(e){var n=e.errors,r=e.handleBlur,i=e.handleChange,o=e.handleSubmit,m=(e.isSubmitting,e.touched),f=e.values;return(0,v.jsxs)("form",{noValidate:!0,onSubmit:function(e){U(""===P),o(e)},children:[(0,v.jsxs)(s.ZP,{container:!0,spacing:3,mb:3,children:[(0,v.jsx)(s.ZP,{item:!0,xs:6,children:(0,v.jsxs)(a.Z,{spacing:1,children:[(0,v.jsx)(l.Z,{htmlFor:"bootstrap",children:"First Name"}),(0,v.jsx)(u.Z,{id:"email-login",type:"text",value:f.first_name,name:"first_name",onBlur:r,onChange:i,placeholder:"eg. John",fullWidth:!0,error:Boolean(m.first_name&&n.first_name)}),m.first_name&&n.first_name&&(0,v.jsx)(c.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.first_name})]})}),(0,v.jsx)(s.ZP,{item:!0,xs:6,children:(0,v.jsxs)(a.Z,{spacing:1,children:[(0,v.jsx)(l.Z,{htmlFor:"bootstrap",children:"Last Name"}),(0,v.jsx)(u.Z,{id:"email-login",type:"text",value:f.last_name,name:"last_name",onBlur:r,onChange:i,placeholder:"eg. Doe",fullWidth:!0,error:Boolean(m.last_name&&n.last_name)}),m.last_name&&n.last_name&&(0,v.jsx)(c.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.last_name})]})})]}),(0,v.jsxs)(s.ZP,{container:!0,spacing:3,mb:3,children:[(0,v.jsx)(s.ZP,{item:!0,xs:6,children:(0,v.jsxs)(a.Z,{spacing:1,children:[(0,v.jsx)(l.Z,{htmlFor:"bootstrap",children:"Phone Number"}),(0,v.jsx)(u.Z,{id:"email-login",type:"number",value:f.cellphone,name:"cellphone",onBlur:r,onChange:i,placeholder:"eg. 0711111111",fullWidth:!0,error:Boolean(m.cellphone&&n.cellphone)}),m.cellphone&&n.cellphone&&(0,v.jsx)(c.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.cellphone})]})}),(0,v.jsx)(s.ZP,{item:!0,xs:6,children:(0,v.jsxs)(a.Z,{spacing:1,children:[(0,v.jsx)(l.Z,{htmlFor:"bootstrap",children:"Email Address"}),(0,v.jsx)(u.Z,{id:"email-login",type:"email",value:f.email,name:"email",onBlur:r,onChange:i,placeholder:"eg. example@gmail.com",fullWidth:!0,error:Boolean(m.email&&n.email)}),m.email&&n.email&&(0,v.jsx)(c.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:n.email})]})})]}),(0,v.jsxs)(s.ZP,{container:!0,spacing:3,mb:3,children:[(0,v.jsx)(s.ZP,{item:!0,xs:6,children:(0,v.jsxs)(a.Z,{spacing:1,children:[(0,v.jsx)(l.Z,{htmlFor:"bootstrap",children:"Role"}),(0,v.jsxs)(d.Z,{labelId:"demo-simple-select-disabled-label",id:"demo-simple-select-disabled",value:P,onChange:function(e){U(!1),k(e.target.value)},error:Boolean(L),children:[(0,v.jsx)(h.Z,{value:0,children:"Admin"}),(0,v.jsx)(h.Z,{value:1,children:"User"})]}),L&&(0,v.jsx)(c.Z,{error:!0,id:"standard-weight-helper-text-email-login",children:"Select Role"})]})}),n.submit&&(0,v.jsx)(s.ZP,{item:!0,xs:12,children:(0,v.jsx)(c.Z,{error:!0,children:n.submit})})]}),(0,v.jsx)(s.ZP,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",mg:3,children:(0,v.jsx)(s.ZP,{item:!0,xs:6,children:(0,v.jsx)(p.Z,{children:(0,v.jsx)(g.Z,{disableElevation:!0,disabled:t,fullWidth:!0,size:"large",type:"submit",variant:"contained",color:"primary",loading:t,children:"Submit"})})})})]})}})})}},36594:function(e,n,t){t.d(n,{LD:function(){return S},OP:function(){return f},Qb:function(){return d},RT:function(){return _},Um:function(){return x},Yb:function(){return g},gi:function(){return p},hK:function(){return v},mL:function(){return j},rW:function(){return m},us:function(){return b},vy:function(){return h},zd:function(){return Z}});var r=t(56573),i=t(41209),o=t(24181);function s(e,n){return new Promise((function(t,o){r.Z.post(i.D.apiURL+e,n).then((function(e){e.headers,t(e.data)})).catch((function(e){e.response&&(401===e.response.status||400===e.response.status||500===e.response.status||e.response&&429===e.response.status||console.log("Error occurred, status: "+e.response.status)),console.log(e),o(e)}))}))}function a(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(s,a){r.Z.get(i.D.apiURL+e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){s(e.data)})).catch((function(e){e.response?e.response&&401===e.response.status&&n&&!t||e.response&&e.response.status:o.s&&o.s.enqueueSnackbar("No network available, Please Connect to a Network!",{variant:"warning"}),a(e)}))}))}function l(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,a){r.Z.post(i.D.apiURL+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){s(e.data)})).catch((function(e){e.response&&401===e.response.status&&t&&!o||(e.response&&e.response.status,a(e))}))}))}function u(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,a){r.Z.put(i.D.apiURL+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){s(e.data)})).catch((function(e){e.response&&401===e.response.status&&t&&!o||(e.response&&e.response.status,a(e))}))}))}function c(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(o,s){r.Z.delete(i.D.apiURL+e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){o(e.data)})).catch((function(e){e.response&&401===e.response.status&&n&&!t||(e.response&&e.response.status,s(e))}))}))}function d(e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r={};return""!==t&&(r.mfaCode=t),s("api/auth/login",{email:e,password:n},!1)}function h(e,n,t){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",i={};return""!==r&&(i.mfaCode=r),l("api/auth/reset-password/"+t,{password:e,confirm_password:n},!1)}function m(){return a("api/v1/users-list/")}function f(e){return l("api/v1/register-user",e)}function p(e){return a("api/v1/user/"+e)}function g(e){return c("api/v1/user/"+e)}function x(e,n){return u("api/v1/user/"+e,n)}function v(){return a("api/v1/list-pets/")}function Z(e){return l("api/v1/pets",e)}function j(e,n){return u("api/v1/pet/"+e,n)}function b(e){return a("api/v1/pet/"+e)}function S(e){return c("api/v1/pet/"+e)}function _(e){return a("api/v1/list-pet-locations/?pet_id="+e)}},41209:function(e,n,t){t.d(n,{D:function(){return r}});var r={mediaURL:"http://161.35.210.153:6500/media/v1/",apiURL:"http://161.35.210.153:5500/",socketURL:"ws://161.35.210.153:5500/"}}}]);
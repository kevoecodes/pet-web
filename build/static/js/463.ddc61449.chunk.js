"use strict";(self.webpackChunkioms_web=self.webpackChunkioms_web||[]).push([[463],{50494:function(e,n,t){var r=t(7655),o=t(46417);n.Z=function(e){var n=e.isModalOpen,t=void 0!==n&&n,i=e.onDelete,s=void 0===i?function(){}:i,a=e.setIsModalOpen,u=e.message,c=void 0===u?"Are you sure you want to delete this content?":u;return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(r.Z,{centered:!0,title:"Are you sure",open:t,onOk:function(){s()},onCancel:function(){a(!1)},children:(0,o.jsxs)(o.Fragment,{children:[" ",c," "]})})})}},2661:function(e,n,t){var r=t(1413),o=t(79601),i=t(17592),s=t(17551),a=t(46417),u=(0,i.ZP)((function(e){return(0,a.jsx)(o.Z,(0,r.Z)({elevation:0,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"}},e))}))((function(e){var n=e.theme;return{"& .MuiPaper-root":{borderRadius:3,marginTop:n.spacing(1),minWidth:140,backgroundColor:n.palette.grey[100],color:"light"===n.palette.mode?"rgb(55, 65, 81)":n.palette.grey[300],boxShadow:"rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 0px 0px 0px, rgba(0, 0, 0, 0.03) 0px 10px 7px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px","& .MuiMenu-list":{padding:"4px 0"},"& .MuiMenuItem-root":{"& .MuiSvgIcon-root":{fontSize:18,color:n.palette.text.secondary,marginRight:n.spacing(1.5)},"&:active":{backgroundColor:(0,s.Fq)(n.palette.primary.main,n.palette.action.selectedOpacity)}}}}}));n.Z=u},63669:function(e,n,t){t.d(n,{pf:function(){return d},l:function(){return l},gg:function(){return c},Sh:function(){return a},An:function(){return u}});var r=t(66212),o=t(41209),i=t(36594),s=t(46417),a=function(e){return console.log("Pet",!1===e),!0===e?(0,s.jsx)(r.Z,{color:"success",label:"Active"}):!1===e?(0,s.jsx)(r.Z,{color:"error",label:"Inactive"}):void 0},u=function(e){return 0===e?(0,s.jsx)(r.Z,{color:"primary",label:"Admin"}):1===e?(0,s.jsx)(r.Z,{color:"success",label:"User"}):void 0},c=function(e){return new Date(e).toLocaleString()},l=function(e){return"".concat(o.D.mediaURL,"images/").concat(e)},d=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e){};(0,i.hK)().then((function(t){console.log(t),e(t.results),n(t.results)})).catch((function(e){console.log(e)}))}},77841:function(e,n,t){var r=t(15671),o=t(43144),i=t(78413),s=function(){function e(){(0,r.Z)(this,e)}return(0,o.Z)(e,[{key:"success",value:function(e){i.s&&i.s.enqueueSnackbar(e,{variant:"success"})}},{key:"error",value:function(e){i.s&&i.s.enqueueSnackbar(e,{variant:"error"})}}]),e}();n.Z=new s},29463:function(e,n,t){t.r(n);var r=t(29439),o=t(9019),i=t(69099),s=t(70501),a=t(51629),u=t(66835),c=t(23477),l=t(24076),d=t(67478),p=t(57861),f=t(47131),h=t(51405),g=t(62323),v=t(40621),x=t(63669),m=t(47313),Z=t(58467),j=t(10237),b=t(32499),k=t(17885),w=t(73507),S=t(36594),P=t(2661),y=t(77841),z=t(50494),A=t(46417);n.default=function(){var e=(0,m.useState)(null),n=(0,r.Z)(e,2),t=n[0],C=n[1],O=(0,m.useState)([]),R=(0,r.Z)(O,2),U=R[0],D=R[1],L=(0,m.useState)(null),M=(0,r.Z)(L,2),I=M[0],F=M[1],N=(0,m.useState)(0),_=(0,r.Z)(N,2),E=_[0],T=_[1],q=(0,m.useState)(10),H=(0,r.Z)(q,2),J=H[0],W=H[1],K=(0,m.useState)(!1),Y=(0,r.Z)(K,2),B=Y[0],Q=Y[1],V=(0,Z.s0)(),G=Boolean(t),X=function(){C(null)},$=function(){(0,S.rW)().then((function(e){console.log(e),D(e.results)})).catch((function(e){console.log(e)}))},ee=function(){C(null),Q(!0)};return(0,m.useEffect)((function(){$()}),[]),(0,A.jsxs)(A.Fragment,{children:[(0,A.jsx)(v.Z,{title:(0,A.jsx)(A.Fragment,{children:(0,A.jsxs)(o.ZP,{container:!0,spacing:3,alignItems:"center",children:[(0,A.jsx)(o.ZP,{item:!0,children:"All Users"}),(0,A.jsx)(o.ZP,{item:!0,xs:12,md:6,lg:4,sx:{ml:"auto"},children:(0,A.jsx)(i.Z,{variant:"contained",endIcon:(0,A.jsx)(w.Z,{}),onClick:function(){V("create-user")},children:"Add User"})})]})}),children:(0,A.jsxs)(s.Z,{children:[(0,A.jsx)(a.Z,{children:(0,A.jsxs)(u.Z,{sx:{minWidth:650},"aria-label":"simple table",children:[(0,A.jsx)(c.Z,{children:(0,A.jsxs)(l.Z,{children:[(0,A.jsx)(d.Z,{children:"Created At"}),(0,A.jsx)(d.Z,{children:"Full Name"}),(0,A.jsx)(d.Z,{children:"Email"}),(0,A.jsx)(d.Z,{children:"Role"}),(0,A.jsx)(d.Z,{children:"Actions"})]})}),(0,A.jsx)(p.Z,{children:U.slice(E*J,E*J+J).map((function(e,n){return(0,A.jsxs)(l.Z,{hover:!0,role:"checkbox",sx:{"&:last-child td, &:last-child th":{border:0}},children:[(0,A.jsx)(d.Z,{children:(0,x.gg)(e.date_joined)}),(0,A.jsxs)(d.Z,{children:[e.first_name," ",e.last_name]}),(0,A.jsx)(d.Z,{children:e.email}),(0,A.jsx)(d.Z,{children:(0,x.An)(e.role)}),(0,A.jsx)(d.Z,{children:(0,A.jsxs)("div",{children:[(0,A.jsx)(f.Z,{"aria-label":"more",id:"long-button","aria-controls":G?"demo-customized-menu":void 0,"aria-expanded":G?"true":void 0,disableElevation:!0,"aria-haspopup":"true",onClick:function(n){return function(e,n){F(n),C(e.currentTarget)}(n,e)},children:(0,A.jsx)(b.Z,{})}),(0,A.jsxs)(P.Z,{id:"demo-customized-menu",anchorEl:t,open:G,onClose:X,MenuListProps:{"aria-labelledby":"demo-customized-menu"},children:[(0,A.jsxs)(h.Z,{onClick:function(){var e;e=I.id,V("edit-user/"+e)},children:[(0,A.jsx)(j.Z,{style:{fontSize:25,color:"green"}}),"Edit"]}),(0,A.jsxs)(h.Z,{onClick:ee,disableRipple:!0,children:[(0,A.jsx)(k.Z,{style:{fontSize:25,color:"red"}}),"Delete"]})]})]})})]},n)}))})]})}),(0,A.jsx)(g.Z,{rowsPerPageOptions:[10,15,20],component:"div",count:U.length,rowsPerPage:J,page:E,onPageChange:function(e,n){T(n)},onRowsPerPageChange:function(e){W(+e.target.value),T(0)}})]})}),(0,A.jsx)(z.Z,{isModalOpen:B,setIsModalOpen:Q,onDelete:function(){(0,S.Yb)(I.id).then((function(e){y.Z.success("User deleted successfully"),Q(!1),$()})).catch((function(e){console.log(e),y.Z.error("Failed to delete user")}))},message:null!=I&&"Are you sure you want to delete ".concat(I.first_name)})]})}},36594:function(e,n,t){t.d(n,{LD:function(){return k},OP:function(){return h},Qb:function(){return d},Um:function(){return x},Yb:function(){return v},gi:function(){return g},hK:function(){return m},mL:function(){return j},rW:function(){return f},us:function(){return b},vy:function(){return p},zd:function(){return Z}});var r=t(56573),o=t(41209),i=t(78413);function s(e,n){return new Promise((function(t,i){r.Z.post(o.D.apiURL+e,n).then((function(e){e.headers,t(e.data)})).catch((function(e){e.response&&(401===e.response.status||400===e.response.status||500===e.response.status||e.response&&429===e.response.status||console.log("Error occurred, status: "+e.response.status)),console.log(e),i(e)}))}))}function a(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(s,a){r.Z.get(o.D.apiURL+e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){s(e.data)})).catch((function(e){e.response?e.response&&401===e.response.status&&n&&!t||e.response&&e.response.status:i.s&&i.s.enqueueSnackbar("No network available, Please Connect to a Network!",{variant:"warning"}),a(e)}))}))}function u(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,a){r.Z.post(o.D.apiURL+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){s(e.data)})).catch((function(e){e.response&&401===e.response.status&&t&&!i||(e.response&&e.response.status,a(e))}))}))}function c(e,n){var t=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Promise((function(s,a){r.Z.put(o.D.apiURL+e,n,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){s(e.data)})).catch((function(e){e.response&&401===e.response.status&&t&&!i||(e.response&&e.response.status,a(e))}))}))}function l(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return new Promise((function(i,s){r.Z.delete(o.D.apiURL+e,{headers:{Authorization:"Token "+JSON.parse(localStorage.getItem("token"))}}).then((function(e){i(e.data)})).catch((function(e){e.response&&401===e.response.status&&n&&!t||(e.response&&e.response.status,s(e))}))}))}function d(e,n){var t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",r={};return""!==t&&(r.mfaCode=t),s("api/auth/login",{email:e,password:n},!1)}function p(e,n,t){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o={};return""!==r&&(o.mfaCode=r),u("api/auth/reset-password/"+t,{password:e,confirm_password:n},!1)}function f(){return a("api/v1/users-list/")}function h(e){return u("api/v1/register-user",e)}function g(e){return a("api/v1/user/"+e)}function v(e){return l("api/v1/user/"+e)}function x(e,n){return c("api/v1/user/"+e,n)}function m(){return a("api/v1/list-pets/")}function Z(e){return u("api/v1/pets",e)}function j(e,n){return c("api/v1/pet/"+e,n)}function b(e){return a("api/v1/pet/"+e)}function k(e){return l("api/v1/pet/"+e)}},41209:function(e,n,t){t.d(n,{D:function(){return r}});var r={mediaURL:"http://161.35.210.153:6500/media/v1/",apiURL:"http://161.35.210.153:5500/"}},73507:function(e,n,t){var r=t(64836);n.Z=void 0;var o=r(t(45045)),i=t(46417),s=(0,o.default)((0,i.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2H9zm-3-3v-3h3v-2H6V7H4v3H1v2h3v3z"}),"PersonAddOutlined");n.Z=s}}]);